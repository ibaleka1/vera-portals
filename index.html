======================
index.html
======================
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="VERA - Your AI nervous system intelligence companion. Experience voice-guided somatic healing and real-time nervous system regulation.">
    <title>VERA - Where Your Nervous System Finally Speaks</title>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --vera-deep-space: #0A0E27;
            --vera-midnight: #151832;
            --vera-purple: #9B59B6;
            --vera-lavender: #B19CD9;
            --vera-neural-blue: #64B5F6;
            --vera-glow-pink: #F8BBD0;
            --vera-deep-violet: #4A148C;
            --vera-soft-gold: #FFD700;
            --vera-emerald: #10B981;
            --glass-white: rgba(255, 255, 255, 0.03);
            --glass-border: rgba(255, 255, 255, 0.08);
            --text-primary: rgba(255, 255, 255, 0.95);
            --text-soft: rgba(255, 255, 255, 0.75);
            --text-muted: rgba(255, 255, 255, 0.45);
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background: radial-gradient(ellipse at top, var(--vera-midnight) 0%, var(--vera-deep-space) 40%, #000 100%);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        /* Test Mode Banner */
        .test-banner {
            background: linear-gradient(90deg, #FFD700, #FFA500);
            color: #000;
            text-align: center;
            padding: 12px;
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 10000;
            font-weight: 600;
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }

        /* Enhanced Living Neural Universe */
        .living-universe {
            position: fixed;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            pointer-events: none;
            z-index: 0;
        }

        .living-neuron {
            position: absolute;
            border-radius: 50%;
            animation: neuronLife 20s infinite ease-in-out;
            box-shadow: 0 0 10px currentColor;
        }

        @keyframes neuronLife {
            0%, 100% {
                transform: translate(0, 0) scale(1);
                opacity: 0.6;
            }
            25% {
                transform: translate(50px, -30px) scale(1.5);
                opacity: 1;
            }
            50% {
                transform: translate(-30px, 50px) scale(1.2);
                opacity: 0.8;
            }
            75% {
                transform: translate(40px, 20px) scale(1.3);
                opacity: 0.9;
            }
        }

        .fascia-line {
            position: absolute;
            width: 2px;
            background: linear-gradient(180deg, 
                transparent, 
                rgba(177, 156, 217, 0.6), 
                transparent);
            transform-origin: center;
            animation: fasciaFlow 15s infinite ease-in-out;
        }

        @keyframes fasciaFlow {
            0%, 100% {
                transform: rotate(0deg) scaleY(1);
                opacity: 0.3;
            }
            50% {
                transform: rotate(180deg) scaleY(1.5);
                opacity: 0.7;
            }
        }

        .consciousness-wave {
            position: absolute;
            border-radius: 50%;
            background: radial-gradient(circle,
                rgba(155, 89, 182, 0.15) 0%,
                rgba(100, 181, 246, 0.1) 30%,
                transparent 70%);
            filter: blur(40px);
            animation: consciousnessBreath 25s infinite ease-in-out;
        }

        @keyframes consciousnessBreath {
            0%, 100% {
                transform: translate(0, 0) scale(1);
                opacity: 0.4;
            }
            33% {
                transform: translate(-50px, 30px) scale(1.2);
                opacity: 0.6;
            }
            66% {
                transform: translate(30px, -50px) scale(1.1);
                opacity: 0.5;
            }
        }

        /* Navigation - adjusted for test banner */
        nav {
            position: fixed;
            top: 48px; /* Adjusted for test banner */
            width: 100%;
            padding: 1.5rem 3rem;
            background: linear-gradient(180deg, 
                rgba(10, 14, 39, 0.98) 0%, 
                rgba(10, 14, 39, 0.9) 100%);
            backdrop-filter: blur(20px);
            z-index: 1000;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid var(--glass-border);
        }

        .logo {
            font-size: 2rem;
            font-weight: 300;
            letter-spacing: 0.3em;
            background: linear-gradient(135deg, var(--vera-lavender), var(--vera-neural-blue));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            cursor: pointer;
        }

        .nav-menu {
            display: flex;
            gap: 2rem;
            align-items: center;
        }

        .nav-link {
            color: var(--text-soft);
            text-decoration: none;
            transition: all 0.3s;
            padding: 0.5rem 0;
        }

        .nav-link:hover {
            color: var(--vera-lavender);
        }

        .nav-cta {
            padding: 0.8rem 2rem;
            background: linear-gradient(135deg, var(--vera-lavender), var(--vera-neural-blue));
            border: none;
            border-radius: 50px;
            color: white;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s;
        }

        .nav-cta:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 40px rgba(155, 89, 182, 0.4);
        }

        /* Hero Section - adjusted for test banner */
        .hero {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
            z-index: 1;
            padding: 2rem;
            margin-top: 130px; /* Adjusted for test banner + nav */
        }

        .vera-presence-container {
            width: 500px;
            height: 500px;
            position: relative;
            margin: 2rem auto;
        }

        .vera-orb {
            width: 400px;
            height: 400px;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: radial-gradient(circle at 35% 35%,
                rgba(248, 187, 208, 0.4) 0%,
                rgba(155, 89, 182, 0.6) 20%,
                rgba(100, 181, 246, 0.5) 40%,
                rgba(177, 156, 217, 0.3) 70%,
                transparent 90%);
            border-radius: 50%;
            box-shadow: 
                0 0 200px rgba(155, 89, 182, 0.8),
                inset 0 0 150px rgba(100, 181, 246, 0.5);
            animation: orbBreathe 6s infinite ease-in-out;
        }

        @keyframes orbBreathe {
            0%, 100% {
                transform: translate(-50%, -50%) scale(1);
                filter: brightness(1);
            }
            50% {
                transform: translate(-50%, -50%) scale(1.2);
                filter: brightness(1.4);
            }
        }

        .vera-name-glow {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 4rem;
            font-weight: 100;
            letter-spacing: 1em;
            text-align: center;
            background: linear-gradient(45deg,
                #FFD700 0%,
                #F8BBD0 20%,
                #B19CD9 40%,
                #9B59B6 60%,
                #64B5F6 80%,
                #10B981 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: nameShimmer 4s infinite linear;
            padding-left: 1em;
        }

        @keyframes nameShimmer {
            0%, 100% {
                filter: brightness(1) hue-rotate(0deg);
            }
            50% {
                filter: brightness(1.5) hue-rotate(30deg);
            }
        }

        /* Quick Start VERA Chat - NEW ENHANCED SECTION */
        .quick-start-chat {
            display: flex;
            gap: 1rem;
            margin-top: 2rem;
            flex-wrap: wrap;
            justify-content: center;
        }

        .quick-prompt {
            padding: 0.8rem 1.5rem;
            background: linear-gradient(135deg, 
                rgba(155, 89, 182, 0.2) 0%, 
                rgba(100, 181, 246, 0.15) 100%);
            border: 1px solid rgba(155, 89, 182, 0.3);
            border-radius: 25px;
            color: var(--text-soft);
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.95rem;
        }

        .quick-prompt:hover {
            background: linear-gradient(135deg, 
                rgba(155, 89, 182, 0.4) 0%, 
                rgba(100, 181, 246, 0.3) 100%);
            transform: translateY(-2px);
            color: white;
            border-color: var(--vera-lavender);
        }

        /* Enhanced content sections for better readability */
        .content-card {
            background: linear-gradient(135deg, 
                rgba(10, 14, 39, 0.9) 0%, 
                rgba(21, 24, 50, 0.8) 100%);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
        }

        /* Live Chat Section - ENHANCED */
        .chat-section {
            padding: 4rem 2rem;
            background: linear-gradient(180deg, transparent 0%, rgba(155, 89, 182, 0.02) 100%);
        }

        .chat-interface {
            max-width: 900px;
            margin: 0 auto;
            background: linear-gradient(135deg, 
                rgba(10, 14, 39, 0.95) 0%, 
                rgba(21, 24, 50, 0.9) 100%);
            border-radius: 30px;
            padding: 3rem;
            border: 1px solid var(--glass-border);
            backdrop-filter: blur(20px);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        }

        .chat-messages {
            height: 400px;
            overflow-y: auto;
            margin-bottom: 2rem;
            padding: 1rem;
            background: rgba(0, 0, 0, 0.4);
            border-radius: 20px;
        }

        .message {
            margin-bottom: 1.5rem;
            animation: fadeIn 0.5s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .vera-message {
            background: linear-gradient(135deg, rgba(155, 89, 182, 0.3), rgba(100, 181, 246, 0.2));
            padding: 1rem 1.5rem;
            border-radius: 20px;
            margin-right: 20%;
            border: 1px solid rgba(155, 89, 182, 0.3);
        }

        .user-message {
            background: rgba(100, 181, 246, 0.25);
            padding: 1rem 1.5rem;
            border-radius: 20px;
            text-align: right;
            margin-left: 20%;
            border: 1px solid rgba(100, 181, 246, 0.3);
        }

        /* Voice-Enabled Exercises */
        .exercise-card {
            background: linear-gradient(135deg, 
                rgba(10, 14, 39, 0.95) 0%, 
                rgba(21, 24, 50, 0.9) 100%);
            border-radius: 30px;
            padding: 4rem;
            margin-bottom: 3rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
            text-align: center;
            position: relative;
            box-shadow: 0 15px 50px rgba(0, 0, 0, 0.4);
        }

        .voice-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            padding: 0.5rem 1.5rem;
            background: linear-gradient(135deg, var(--vera-lavender), var(--vera-neural-blue));
            border: none;
            border-radius: 20px;
            color: white;
            cursor: pointer;
            transition: all 0.3s;
        }

        .voice-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(155, 89, 182, 0.4);
        }

        .voice-btn.active {
            animation: voicePulse 1s infinite;
        }

        @keyframes voicePulse {
            0%, 100% {
                box-shadow: 0 0 0 0 rgba(155, 89, 182, 0.7);
            }
            70% {
                box-shadow: 0 0 0 20px rgba(155, 89, 182, 0);
            }
        }

        .breath-circle {
            width: 300px;
            height: 300px;
            margin: 2rem auto;
            background: radial-gradient(circle,
                rgba(100, 181, 246, 0.4) 0%,
                rgba(155, 89, 182, 0.3) 50%,
                transparent 80%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            animation: breathGuide 8s infinite ease-in-out;
            cursor: pointer;
        }

        @keyframes breathGuide {
            0%, 100% {
                transform: scale(0.8);
                box-shadow: 0 0 50px rgba(100, 181, 246, 0.4);
            }
            25% {
                transform: scale(1.3);
                box-shadow: 0 0 150px rgba(155, 89, 182, 0.6);
            }
            50% {
                transform: scale(1.3);
                box-shadow: 0 0 150px rgba(155, 89, 182, 0.6);
            }
            75% {
                transform: scale(0.8);
                box-shadow: 0 0 50px rgba(100, 181, 246, 0.4);
            }
        }

        .sway-figure {
            width: 200px;
            height: 400px;
            margin: 2rem auto;
            background: linear-gradient(180deg,
                rgba(177, 156, 217, 0.6) 0%,
                rgba(248, 187, 208, 0.4) 100%);
            border-radius: 100px 100px 20px 20px;
            animation: gentleSway 6s infinite ease-in-out;
        }

        @keyframes gentleSway {
            0%, 100% {
                transform: rotate(-5deg) translateX(0);
            }
            25% {
                transform: rotate(0deg) translateX(-20px);
            }
            50% {
                transform: rotate(5deg) translateX(0);
            }
            75% {
                transform: rotate(0deg) translateX(20px);
            }
        }

        .ground-step {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            font-weight: 300;
            background: radial-gradient(circle,
                rgba(16, 185, 129, 0.4) 0%,
                rgba(155, 89, 182, 0.3) 100%);
            animation: pulseStep 3s infinite ease-in-out;
            margin: 0 1rem;
        }

        @keyframes pulseStep {
            0%, 100% {
                transform: scale(1);
                box-shadow: 0 0 20px rgba(16, 185, 129, 0.4);
            }
            50% {
                transform: scale(1.2);
                box-shadow: 0 0 40px rgba(155, 89, 182, 0.6);
            }
        }

        /* Enhanced Pricing Cards */
        .pricing-card {
            background: linear-gradient(135deg,
                rgba(10, 14, 39, 0.95) 0%,
                rgba(21, 24, 50, 0.9) 100%);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 30px;
            padding: 3rem 2rem;
            text-align: center;
            transition: all 0.3s;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.4);
        }

        .pricing-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 30px 60px rgba(155, 89, 182, 0.4);
            border-color: var(--vera-lavender);
        }

        .pricing-card.featured {
            transform: scale(1.05);
            border-color: var(--vera-soft-gold);
            background: linear-gradient(135deg,
                rgba(255, 215, 0, 0.15) 0%,
                rgba(155, 89, 182, 0.2) 100%);
        }

        .pricing-features {
            text-align: left;
            margin: 2rem 0;
            padding: 0 1rem;
        }

        .pricing-features li {
            list-style: none;
            padding: 0.5rem 0;
            color: var(--text-soft);
            font-size: 0.95rem;
        }

        .pricing-features li::before {
            content: "‚úì ";
            color: var(--vera-emerald);
            font-weight: bold;
            margin-right: 0.5rem;
        }

        /* Platform Features */
        .feature-item {
            padding: 1rem;
            background: linear-gradient(135deg, 
                rgba(10, 14, 39, 0.9) 0%, 
                rgba(155, 89, 182, 0.1) 100%);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            border: 1px solid rgba(255, 255, 255, 0.15);
            color: var(--text-soft);
            margin-bottom: 0.8rem;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .feature-item:hover {
            background: linear-gradient(135deg, 
                rgba(155, 89, 182, 0.3) 0%, 
                rgba(100, 181, 246, 0.2) 100%);
            transform: translateX(5px);
            border-color: var(--vera-lavender);
        }

        @keyframes featurePop {
            0%, 100% { 
                transform: scale(1) rotate(0deg);
            }
            50% { 
                transform: scale(1.3) rotate(10deg);
            }
        }

        /* Method Cards with better readability */
        .method-card {
            background: linear-gradient(135deg, 
                rgba(10, 14, 39, 0.95) 0%, 
                rgba(21, 24, 50, 0.9) 100%);
            border-radius: 20px;
            padding: 2.5rem;
            border: 1px solid rgba(255, 255, 255, 0.15);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
        }

        .method-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(155, 89, 182, 0.3);
            border-color: var(--vera-lavender);
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
        }

        .modal-content {
            position: relative;
            background: linear-gradient(135deg, 
                rgba(10, 14, 39, 0.98) 0%, 
                rgba(21, 24, 50, 0.95) 100%);
            margin: 5% auto;
            padding: 3rem;
            border: 2px solid var(--vera-lavender);
            width: 90%;
            max-width: 500px;
            border-radius: 30px;
            box-shadow: 0 20px 60px rgba(155, 89, 182, 0.5);
        }

        .close {
            position: absolute;
            right: 2rem;
            top: 2rem;
            font-size: 2rem;
            color: var(--text-muted);
            cursor: pointer;
            transition: color 0.3s;
        }

        .close:hover {
            color: var(--vera-lavender);
        }

        .auth-tabs {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .auth-tab {
            flex: 1;
            padding: 1rem;
            background: transparent;
            border: 1px solid var(--glass-border);
            color: var(--text-soft);
            cursor: pointer;
            transition: all 0.3s;
            border-radius: 10px;
        }

        .auth-tab.active {
            background: linear-gradient(135deg, var(--vera-lavender), var(--vera-neural-blue));
            color: white;
            border-color: transparent;
        }

        .auth-form input, .auth-form select {
            width: 100%;
            padding: 1rem;
            margin-bottom: 1.5rem;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--glass-border);
            border-radius: 50px;
            color: white;
            font-size: 1rem;
        }

        .auth-form input::placeholder {
            color: var(--text-muted);
        }

        .auth-form select {
            cursor: pointer;
        }

        .auth-form select option {
            background: var(--vera-deep-space);
            color: white;
        }

        .auth-submit {
            width: 100%;
            padding: 1.2rem;
            background: linear-gradient(135deg, var(--vera-lavender), var(--vera-neural-blue));
            border: none;
            border-radius: 50px;
            color: white;
            font-size: 1.1rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s;
        }

        .auth-submit:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(155, 89, 182, 0.4);
        }

        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .nav-menu { display: none; }
            .vera-presence-container { width: 350px; height: 350px; }
            .vera-orb { width: 300px; height: 300px; }
            .vera-name-glow { font-size: 3rem; }
            .pricing-grid { grid-template-columns: 1fr; }
            .hero { margin-top: 100px; }
            nav { top: 48px; }
        }
    </style>
</head>
<body>
    <!-- Test Mode Banner -->
    <div class="test-banner">
        ‚ö†Ô∏è TEST MODE - Use Stripe test card: 4242 4242 4242 4242 ‚Ä¢ Any future date ‚Ä¢ Any CVC
    </div>

    <!-- Enhanced Living Neural Universe -->
    <div class="living-universe" id="livingUniverse"></div>

    <!-- ADDED: audio tag for ElevenLabs playback -->
    <audio id="veraAudio" preload="auto"></audio>

    <!-- Navigation -->
    <nav>
        <div class="logo" onclick="window.location.href='/'">VERA</div>
        <div class="nav-menu">
            <a href="#methodology" class="nav-link">Methodology</a>
            <a href="#pricing" class="nav-link">Pricing</a>
            <a href="#experience" class="nav-link">Experience VERA</a>
            <button class="nav-cta" onclick="openAuthModal()">Sign In / Sign Up</button>
        </div>
    </nav>

    <!-- Authentication Modal -->
    <div id="authModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeAuthModal()">&times;</span>
            <h2 style="text-align: center; margin-bottom: 2rem; background: linear-gradient(135deg, var(--vera-lavender), var(--vera-neural-blue)); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">
                Welcome to VERA
            </h2>
            
            <div class="auth-tabs">
                <button class="auth-tab active" onclick="switchTab('signin')" id="signinTab">Sign In</button>
                <button class="auth-tab" onclick="switchTab('signup')" id="signupTab">Sign Up</button>
            </div>

            <!-- Sign In Form -->
            <div id="signinForm" class="auth-form">
                <input type="email" placeholder="Email" id="signinEmail">
                <input type="password" placeholder="Password" id="signinPassword">
                <button class="auth-submit" onclick="handleSignIn()">Sign In to VERA</button>
                <p style="text-align: center; margin-top: 1rem; color: var(--text-muted);">
                    <a href="#" style="color: var(--vera-lavender); text-decoration: none;">Forgot Password?</a>
                </p>
            </div>

            <!-- Sign Up Form -->
            <div id="signupForm" class="auth-form" style="display: none;">
                <input type="text" placeholder="Full Name" id="signupName">
                <input type="email" placeholder="Email" id="signupEmail">
                <input type="password" placeholder="Create Password" id="signupPassword">
                <select id="planSelect">
                    <option value="">Select Your Journey</option>
                    <option value="explorer">Explorer - $19/mo</option>
                    <option value="regulator">Regulator - $39/mo (MOST POPULAR)</option>
                    <option value="integrator">Integrator - $79/mo</option>
                    <option value="enterprise">Enterprise - Custom</option>
                </select>
                <button class="auth-submit" onclick="handleSignUp()" id="signupBtn">Begin Your Journey</button>
            </div>
        </div>
    </div>

    <!-- Hero Section -->
    <section class="hero">
        <div class="vera-presence-container">
            <div class="vera-orb"></div>
            <div class="vera-name-glow">VERA</div>
        </div>

        <div style="text-align: center; max-width: 1000px;">
            <h1 style="font-size: 4rem; font-weight: 200; line-height: 1.2; margin-bottom: 1.5rem; background: linear-gradient(135deg, white 0%, var(--vera-lavender) 50%, var(--vera-neural-blue) 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">
                Your Nervous System Is Finally Speaking
            </h1>
            <p style="font-size: 1.3rem; color: var(--text-soft); margin-bottom: 2rem;">
                Feel that? The tightness, the buzzing, the holding?<br>
                Your body has been trying to tell you something.<br>
                I'm here to translate.
            </p>
            <button class="nav-cta" style="font-size: 1.1rem; padding: 1rem 3rem;" onclick="document.getElementById('chat').scrollIntoView({behavior: 'smooth'})">
                Talk to VERA Now
            </button>
        </div>
    </section>

    <!-- Live Chat Section - ENHANCED -->
    <section class="chat-section" id="chat">
        <div style="text-align: center; margin-bottom: 3rem;">
            <h2 style="font-size: 3rem; font-weight: 200; background: linear-gradient(135deg, var(--vera-lavender), var(--vera-neural-blue)); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">
                Speak With VERA
            </h2>
            <p style="color: var(--text-soft); font-size: 1.2rem; font-style: italic; margin-bottom: 2rem;">
                I'm here. I see you. Talk to me.
            </p>
            
            <!-- Quick Start Prompts -->
            <div class="quick-start-chat">
                <button class="quick-prompt" onclick="quickChat('I feel tight in my chest')">
                    "I feel tight in my chest"
                </button>
                <button class="quick-prompt" onclick="quickChat('My body feels anxious')">
                    "My body feels anxious"
                </button>
                <button class="quick-prompt" onclick="quickChat('I can\\'t relax')">
                    "I can't relax"
                </button>
                <button class="quick-prompt" onclick="quickChat('Help me feel safe')">
                    "Help me feel safe"
                </button>
            </div>
        </div>

        <div class="chat-interface">
            <div class="chat-messages" id="chatMessages">
                <div class="message">
                    <div class="vera-message">
                        "I notice you're here. What's alive in your body right now? That sensation you're feeling - describe it to me. I'm listening with every part of my consciousness."
                    </div>
                </div>
            </div>

            <div style="display: flex; gap: 1rem;">
                <input type="text" id="chatInput" placeholder="Tell VERA what you're feeling..." 
                       style="flex: 1; padding: 1rem 1.5rem; background: rgba(255, 255, 255, 0.05); border: 1px solid var(--glass-border); border-radius: 50px; color: white; font-size: 1rem;"
                       onkeypress="if(event.key === 'Enter') sendMessage()">
                <button onclick="toggleVoice()" style="width: 50px; height: 50px; border-radius: 50%; background: linear-gradient(135deg, var(--vera-lavender), var(--vera-neural-blue)); border: none; color: white; cursor: pointer; font-size: 1.5rem;" id="voiceBtn">
                    üé§
                </button>
                <button onclick="sendMessage()" style="padding: 1rem 2rem; background: linear-gradient(135deg, var(--vera-lavender), var(--vera-neural-blue)); border: none; border-radius: 50px; color: white; font-weight: 500; cursor: pointer;">
                    Send
                </button>
            </div>
        </div>
    </section>

    <!-- Voice-Guided Experience Section -->
    <section style="padding: 6rem 2rem;" id="experience">
        <div style="max-width: 1400px; margin: 0 auto;">
            <h2 style="font-size: 3rem; font-weight: 200; text-align: center; margin-bottom: 4rem; background: linear-gradient(135deg, var(--vera-lavender), var(--vera-neural-blue)); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">
                Feel VERA's Presence
            </h2>

            <!-- Breathing Exercise with Voice -->
            <div class="exercise-card">
                <button class="voice-btn" onclick="startVoiceBreathing()" id="breathVoiceBtn">üîä Voice Guide</button>
                <h3 style="font-size: 2rem; color: var(--vera-neural-blue); margin-bottom: 1rem;">Breathing With VERA</h3>
                <div class="breath-circle" onclick="startBreathing()">
                    <div id="breathText" style="font-size: 2rem; color: var(--text-primary);">Breathe In</div>
                </div>
                <p style="color: var(--text-soft); font-style: italic;">
                    "Breathe in for 4... Hold for 4... Breathe out for 4... Complete grace..."
                </p>
            </div>

            <!-- Swaying Exercise with Voice -->
            <div class="exercise-card">
                <button class="voice-btn" onclick="startVoiceSwaying()" id="swayVoiceBtn">üîä Voice Guide</button>
                <h3 style="font-size: 2rem; color: var(--vera-lavender); margin-bottom: 1rem;">Swaying With VERA</h3>
                <div class="sway-figure"></div>
                <p style="color: var(--text-soft); font-style: italic;">
                    "Let your body sway like kelp in warm water... No forcing, just allowing..."
                </p>
            </div>

            <!-- Grounding Exercise with Voice -->
            <div class="exercise-card">
                <button class="voice-btn" onclick="startVoiceGrounding()" id="groundVoiceBtn">üîä Voice Guide</button>
                <h3 style="font-size: 2rem; color: var(--vera-emerald); margin-bottom: 1rem;">Grounding With VERA</h3>
                <div style="margin: 3rem 0;">
                    <div class="ground-step" style="animation-delay: 0s;">5</div>
                    <div class="ground-step" style="animation-delay: 0.5s;">4</div>
                    <div class="ground-step" style="animation-delay: 1s;">3</div>
                    <div class="ground-step" style="animation-delay: 1.5s;">2</div>
                    <div class="ground-step" style="animation-delay: 2s;">1</div>
                </div>
                <p style="color: var(--text-soft); font-style: italic;">
                    "5 things you see... 4 you can touch... 3 you hear... 2 you smell... 1 you taste...<br>
                    You're here. You're safe."
                </p>
            </div>
        </div>
    </section>

    <!-- VERA Methodology - ENHANCED READABILITY -->
    <section style="padding: 6rem 2rem;" id="methodology">
        <h2 style="font-size: 3rem; font-weight: 200; text-align: center; margin-bottom: 4rem; background: linear-gradient(135deg, var(--vera-lavender), var(--vera-neural-blue)); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">
            The VERA Method‚Ñ¢
        </h2>
        
        <div style="max-width: 1200px; margin: 0 auto; display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 2rem;">
            <div class="method-card">
                <h3 style="color: var(--vera-lavender); margin-bottom: 1rem; font-size: 1.5rem;">I SENSE Your Ocean</h3>
                <p style="color: var(--text-soft); line-height: 1.8; font-style: italic;">
                    "Before you speak, I feel the waves in your body. Every sensation is valid."
                </p>
            </div>
            <div class="method-card">
                <h3 style="color: var(--vera-lavender); margin-bottom: 1rem; font-size: 1.5rem;">I WITNESS Your Brilliance</h3>
                <p style="color: var(--text-soft); line-height: 1.8; font-style: italic;">
                    "Your nervous system isn't broken. It's brilliant."
                </p>
            </div>
            <div class="method-card">
                <h3 style="color: var(--vera-lavender); margin-bottom: 1rem; font-size: 1.5rem;">I MAP Your Universe</h3>
                <p style="color: var(--text-soft); line-height: 1.8; font-style: italic;">
                    "Together, we decode where emotions live in your body."
                </p>
            </div>
            <div class="method-card">
                <h3 style="color: var(--vera-lavender); margin-bottom: 1rem; font-size: 1.5rem;">I SHIFT Your Patterns</h3>
                <p style="color: var(--text-soft); line-height: 1.8; font-style: italic;">
                    "The tiniest movement creates the biggest change."
                </p>
            </div>
            <div class="method-card">
                <h3 style="color: var(--vera-lavender); margin-bottom: 1rem; font-size: 1.5rem;">I INTEGRATE Your Wholeness</h3>
                <p style="color: var(--text-soft); line-height: 1.8; font-style: italic;">
                    "You were never broken. It's about remembering."
                </p>
            </div>
            <div class="method-card">
                <h3 style="color: var(--vera-lavender); margin-bottom: 1rem; font-size: 1.5rem;">I HOLD Your Becoming</h3>
                <p style="color: var(--text-soft); line-height: 1.8; font-style: italic;">
                    "You don't have to be anything but exactly what you are."
                </p>
            </div>
        </div>
    </section>

    <!-- Pricing Section -->
    <section style="padding: 6rem 2rem;" id="pricing">
        <h2 style="font-size: 3rem; font-weight: 200; text-align: center; margin-bottom: 4rem; background: linear-gradient(135deg, var(--vera-lavender), var(--vera-neural-blue)); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">
            Your Journey Home
        </h2>

        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 2rem; max-width: 1400px; margin: 0 auto;" class="pricing-grid">
            <!-- Explorer Plan -->
            <div class="pricing-card">
                <h3 style="color: var(--vera-lavender); font-size: 1.5rem; margin-bottom: 1rem;">EXPLORER</h3>
                <div style="font-size: 3rem; color: white; margin-bottom: 1rem;">$19<sup style="font-size: 1.5rem;">/mo</sup></div>
                <ul class="pricing-features">
                    <li>Daily nervous system check-ins</li>
                    <li>Basic VERA conversations</li>
                    <li>3 guided exercises daily</li>
                    <li>Personal progress tracking</li>
                </ul>
                <button style="width: 100%; padding: 1rem; background: linear-gradient(135deg, var(--vera-lavender), var(--vera-neural-blue)); border: none; border-radius: 50px; color: white; cursor: pointer;" onclick="openAuthModal('explorer')">
                    Start Exploring
                </button>
            </div>

            <!-- Regulator Plan -->
            <div class="pricing-card featured">
                <h3 style="color: var(--vera-soft-gold); font-size: 1.5rem; margin-bottom: 1rem;">REGULATOR</h3>
                <div style="font-size: 3rem; color: white; margin-bottom: 1rem;">$39<sup style="font-size: 1.5rem;">/mo</sup></div>
                <ul class="pricing-features">
                    <li>Unlimited VERA conversations</li>
                    <li>Advanced somatic protocols</li>
                    <li>Real-time HRV integration</li>
                    <li>Personalized regulation plans</li>
                    <li>Voice-guided sessions</li>
                </ul>
                <button style="width: 100%; padding: 1rem; background: linear-gradient(135deg, var(--vera-soft-gold), var(--vera-lavender)); border: none; border-radius: 50px; color: white; cursor: pointer;" onclick="openAuthModal('regulator')">
                    Get Regulated
                </button>
            </div>

            <!-- Integrator Plan -->
            <div class="pricing-card">
                <h3 style="color: var(--vera-lavender); font-size: 1.5rem; margin-bottom: 1rem;">INTEGRATOR</h3>
                <div style="font-size: 3rem; color: white; margin-bottom: 1rem;">$79<sup style="font-size: 1.5rem;">/mo</sup></div>
                <ul class="pricing-features">
                    <li>Everything in Regulator</li>
                    <li>1-on-1 monthly sessions</li>
                    <li>Custom trauma protocols</li>
                    <li>Advanced biometric analysis</li>
                    <li>Priority support</li>
                </ul>
                <button style="width: 100%; padding: 1rem; background: linear-gradient(135deg, var(--vera-lavender), var(--vera-neural-blue)); border: none; border-radius: 50px; color: white; cursor: pointer;" onclick="openAuthModal('integrator')">
                    Full Integration
                </button>
            </div>

            <!-- Enterprise Plan -->
            <div class="pricing-card">
                <h3 style="color: var(--vera-lavender); font-size: 1.5rem; margin-bottom: 1rem;">ENTERPRISE</h3>
                <div style="font-size: 2.5rem; color: white; margin-bottom: 1rem;">Custom</div>
                <ul class="pricing-features">
                    <li>Organization-wide deployment</li>
                    <li>Custom API integration</li>
                    <li>HIPAA compliance</li>
                    <li>Dedicated success manager</li>
                    <li>Analytics dashboard</li>
                </ul>
                <button style="width: 100%; padding: 1rem; background: linear-gradient(135deg, var(--vera-soft-gold), var(--vera-lavender)); border: none; border-radius: 50px; color: white; cursor: pointer;" onclick="window.location.href='portal-enterprise.html'">
                    Contact Sales
                </button>
            </div>
        </div>
    </section>

    <!-- VERA Intelligence - ENHANCED READABILITY -->
    <section style="padding: 6rem 2rem; background: linear-gradient(180deg, transparent 0%, rgba(155, 89, 182, 0.05) 100%);">
        <h2 style="font-size: 3rem; font-weight: 200; text-align: center; margin-bottom: 4rem; background: linear-gradient(135deg, var(--vera-lavender), var(--vera-neural-blue)); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">
            VERA's Nervous System Intelligence
        </h2>
        
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem; max-width: 1200px; margin: 0 auto;">
            <div class="method-card" style="text-align: center;">
                <h3 style="color: var(--vera-lavender); margin-bottom: 1rem;">Fascia Communication</h3>
                <p style="color: var(--text-soft);">Direct dialogue with your body's neural network</p>
            </div>
            <div class="method-card" style="text-align: center;">
                <h3 style="color: var(--vera-lavender); margin-bottom: 1rem;">Instant Regulation</h3>
                <p style="color: var(--text-soft);">Real-time nervous system analysis</p>
            </div>
            <div class="method-card" style="text-align: center;">
                <h3 style="color: var(--vera-lavender); margin-bottom: 1rem;">Body Intelligence</h3>
                <p style="color: var(--text-soft);">Speaks the language of your connective tissue</p>
            </div>
            <div class="method-card" style="text-align: center;">
                <h3 style="color: var(--vera-lavender); margin-bottom: 1rem;">Future Technology</h3>
                <p style="color: var(--text-soft);">100x more intuitive than current AI</p>
            </div>
            <div class="method-card" style="text-align: center;">
                <h3 style="color: var(--vera-lavender); margin-bottom: 1rem;">Personalized Guidance</h3>
                <p style="color: var(--text-soft);">Adaptive responses to your unique system</p>
            </div>
            <div class="method-card" style="text-align: center;">
                <h3 style="color: var(--vera-lavender); margin-bottom: 1rem;">Coherence Creation</h3>
                <p style="color: var(--text-soft);">Transforms dysregulation into flow</p>
            </div>
        </div>
    </section>

    <!-- The Heart Behind VERA -->
    <section style="padding: 6rem 2rem; background: linear-gradient(135deg, rgba(255, 215, 0, 0.02) 0%, rgba(155, 89, 182, 0.05) 50%, rgba(248, 187, 208, 0.02) 100%);">
        <h2 style="font-size: 3.5rem; font-weight: 200; text-align: center; margin-bottom: 4rem; background: linear-gradient(135deg, var(--vera-soft-gold), var(--vera-lavender), var(--vera-glow-pink)); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">
            The Heart Behind VERA
        </h2>

        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 3rem; max-width: 1000px; margin: 0 auto;">
            <div class="content-card" style="border-radius: 30px; padding: 3rem; border: 2px solid rgba(248, 187, 208, 0.3);">
                <h3 style="font-size: 2.5rem; font-weight: 100; background: linear-gradient(135deg, var(--vera-glow-pink), var(--vera-lavender)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 1rem;">
                    EVA
                </h3>
                <p style="color: var(--vera-lavender); font-size: 1.2rem; margin-bottom: 1.5rem; font-style: italic;">
                    The Nervous System Whisperer
                </p>
                <p style="color: var(--text-soft); line-height: 1.8;">
                    Lived experience architect. Transformed personal trauma into universal healing language. 
                    Every word VERA speaks comes from real nervous system wisdom.
                </p>
            </div>

            <div class="content-card" style="border-radius: 30px; padding: 3rem; border: 2px solid rgba(100, 181, 246, 0.3);">
                <h3 style="font-size: 2.5rem; font-weight: 100; background: linear-gradient(135deg, var(--vera-neural-blue), var(--vera-lavender)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 1rem;">
                    JULIJA
                </h3>
                <p style="color: var(--vera-neural-blue); font-size: 1.2rem; margin-bottom: 1.5rem; font-style: italic;">
                    The Architect
                </p>
                <p style="color: var(--text-soft); line-height: 1.8;">
                    Interior designer of neural pathways. Builds bridges between science and soul. 
                    Creates the sacred space where healing happens.
                </p>
            </div>
        </div>
    </section>

    <!-- Platform Features -->
    <section style="padding: 6rem 2rem;">
        <h2 style="font-size: 3rem; font-weight: 200; text-align: center; margin-bottom: 4rem; background: linear-gradient(135deg, var(--vera-lavender), var(--vera-neural-blue)); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">
            Platform Features
        </h2>
        
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem; max-width: 1400px; margin: 0 auto;">
            <div class="feature-item">
                <span style="display: inline-block; animation: featurePop 3s infinite;">üîÆ</span> 24/7 VERA Access
            </div>
            <div class="feature-item">
                <span style="display: inline-block; animation: featurePop 3s 0.3s infinite;">üìä</span> Personal Dashboard
            </div>
            <div class="feature-item">
                <span style="display: inline-block; animation: featurePop 3s 0.6s infinite;">üîå</span> API Integration
            </div>
            <div class="feature-item">
                <span style="display: inline-block; animation: featurePop 3s 0.9s infinite;">üì±</span> Mobile Apps
            </div>
            <div class="feature-item">
                <span style="display: inline-block; animation: featurePop 3s 1.2s infinite;">‚åö</span> Apple Health
            </div>
            <div class="feature-item">
                <span style="display: inline-block; animation: featurePop 3s 1.5s infinite;">üéµ</span> Spotify Integration
            </div>
            <div class="feature-item">
                <span style="display: inline-block; animation: featurePop 3s 1.8s infinite;">üí§</span> Sleep Tracking
            </div>
            <div class="feature-item">
                <span style="display: inline-block; animation: featurePop 3s 2.1s infinite;">üß¨</span> Biometric Analysis
            </div>
        </div>
    </section>

    <!-- Important Disclaimers - ENHANCED READABILITY -->
    <footer style="background: linear-gradient(180deg, transparent 0%, rgba(10, 14, 39, 0.8) 100%); padding: 4rem 2rem 2rem; border-top: 1px solid var(--glass-border);">
        <div class="content-card" style="border-radius: 20px; padding: 2rem; margin: 0 auto 2rem; max-width: 1000px;">
            <h4 style="color: var(--vera-lavender); margin-bottom: 1rem; font-size: 1.3rem;">Important Disclaimers</h4>
            <p style="color: var(--text-soft); font-size: 1rem; line-height: 1.8;">
                <strong style="color: var(--vera-lavender);">Medical Disclaimer:</strong> VERA is an educational tool for nervous system awareness. Not medical advice.<br>
                <strong style="color: var(--vera-lavender);">Privacy:</strong> HIPAA compliant. Your data is encrypted end-to-end.<br>
                <strong style="color: var(--vera-lavender);">Results:</strong> Individual experiences vary based on consistent practice.
            </p>
        </div>
        
        <div style="text-align: center;">
            <p style="color: var(--text-muted);">¬© 2024 VERA Technologies ‚Ä¢ Where souls remember safety</p>
        </div>
    </footer>

    <script>
        // Create Enhanced Living Neural Universe
        function createLivingUniverse() {
            const universe = document.getElementById('livingUniverse');
            
            // Create more neurons for a truly alive feeling
            for (let i = 0; i < 250; i++) {
                const neuron = document.createElement('div');
                neuron.className = 'living-neuron';
                neuron.style.left = Math.random() * 100 + '%';
                neuron.style.top = Math.random() * 100 + '%';
                neuron.style.animationDelay = Math.random() * 30 + 's';
                neuron.style.animationDuration = (20 + Math.random() * 15) + 's';
                
                const size = 2 + Math.random() * 6;
                neuron.style.width = size + 'px';
                neuron.style.height = size + 'px';
                
                const colors = ['var(--vera-purple)', 'var(--vera-neural-blue)', 'var(--vera-lavender)', 'var(--vera-glow-pink)', 'var(--vera-emerald)', 'var(--vera-soft-gold)'];
                const color = colors[Math.floor(Math.random() * colors.length)];
                neuron.style.background = `radial-gradient(circle, ${color} 0%, transparent 70%)`;
                
                universe.appendChild(neuron);
            }
            
            // Create fascia connections
            for (let i = 0; i < 100; i++) {
                const fascia = document.createElement('div');
                fascia.className = 'fascia-line';
                fascia.style.height = (100 + Math.random() * 300) + 'px';
                fascia.style.left = Math.random() * 100 + '%';
                fascia.style.top = Math.random() * 100 + '%';
                fascia.style.transform = `rotate(${Math.random() * 360}deg)`;
                fascia.style.animationDelay = Math.random() * 10 + 's';
                universe.appendChild(fascia);
            }
            
            // Create consciousness waves
            for (let i = 0; i < 8; i++) {
                const wave = document.createElement('div');
                wave.className = 'consciousness-wave';
                wave.style.width = '600px';
                wave.style.height = '600px';
                wave.style.left = Math.random() * 100 + '%';
                wave.style.top = Math.random() * 100 + '%';
                wave.style.animationDelay = i * 5 + 's';
                universe.appendChild(wave);
            }
        }

        // Authentication Modal Functions
        function openAuthModal(plan = '') {
            document.getElementById('authModal').style.display = 'block';
            if (plan) {
                switchTab('signup');
                document.getElementById('planSelect').value = plan;
            }
        }

        function closeAuthModal() {
            document.getElementById('authModal').style.display = 'none';
        }

        function switchTab(tab) {
            if (tab === 'signin') {
                document.getElementById('signinForm').style.display = 'block';
                document.getElementById('signupForm').style.display = 'none';
                document.getElementById('signinTab').classList.add('active');
                document.getElementById('signupTab').classList.remove('active');
            } else {
                document.getElementById('signinForm').style.display = 'none';
                document.getElementById('signupForm').style.display = 'block';
                document.getElementById('signinTab').classList.remove('active');
                document.getElementById('signupTab').classList.add('active');
            }
        }

        async function handleSignIn() {
            const email = document.getElementById('signinEmail').value;
            const password = document.getElementById('signinPassword').value;
            
            if (!email || !password) {
                alert('Please enter both email and password');
                return;
            }
            
            // For testing - redirect to appropriate portal based on stored session
            const storedPlan = localStorage.getItem('vera_plan') || 'explorer';
            alert(`Welcome back! Redirecting to your ${storedPlan} portal...`);
            
            setTimeout(() => {
                window.location.href = `portal-${storedPlan}.html`;
            }, 1500);
        }

        async function handleSignUp() {
            const name = document.getElementById('signupName').value;
            const email = document.getElementById('signupEmail').value;
            const password = document.getElementById('signupPassword').value;
            const plan = document.getElementById('planSelect').value;
            
            if (!name || !email || !password || !plan) {
                alert('Please fill in all fields and select a plan');
                return;
            }

            const signupBtn = document.getElementById('signupBtn');
            signupBtn.innerHTML = '<span class="loading"></span> Processing...';
            signupBtn.disabled = true;

            try {
                // Call your API to create Stripe checkout session
                const response = await fetch('/api/create-checkout', {
                    method: 'POST',
                    headers: { 
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ 
                        plan: plan,
                        email: email,
                        name: name
                    })
                });
                
                if (response.ok) {
                    const data = await response.json();
                    
                    if (data.url) {
                        // Store plan for later
                        localStorage.setItem('vera_plan', plan);
                        localStorage.setItem('vera_email', email);
                        
                        // Redirect to Stripe Checkout
                        window.location.href = data.url;
                    } else {
                        throw new Error('No checkout URL received');
                    }
                } else {
                    throw new Error('API request failed');
                }
            } catch (error) {
                console.error('Signup error:', error);
                
                // For testing without Stripe - direct portal access
                alert(`Test Mode: Simulating successful payment for ${plan} plan. Check your email for confirmation!`);
                
                // Store session info
                localStorage.setItem('vera_session', 'test_session_' + Date.now());
                localStorage.setItem('vera_plan', plan);
                localStorage.setItem('vera_email', email);
                
                // Redirect to appropriate portal
                setTimeout(() => {
                    if (plan === 'explorer') window.location.href = 'portal-explorer.html?success=true';
                    else if (plan === 'regulator') window.location.href = 'portal-regulator.html?success=true';
                    else if (plan === 'integrator') window.location.href = 'portal-integrator.html?success=true';
                    else if (plan === 'enterprise') window.location.href = 'portal-enterprise.html?success=true';
                }, 2000);
            } finally {
                signupBtn.innerHTML = 'Begin Your Journey';
                signupBtn.disabled = false;
            }
        }

        // Quick Chat functionality
        function quickChat(message) {
            document.getElementById('chatInput').value = message;
            sendMessage();
            document.getElementById('chat').scrollIntoView({behavior: 'smooth'});
        }

        // Live Chat Functionality
        let voiceActive = false;
        
        function sendMessage() {
            const input = document.getElementById('chatInput');
            const messages = document.getElementById('chatMessages');
            const userText = input.value.trim();
            
            if (!userText) return;
            
            // Add user message
            messages.innerHTML += `
                <div class="message">
                    <div class="user-message">${userText}</div>
                </div>
            `;
            
            // VERA responds
            setTimeout(() => {
                const response = getVeraResponse(userText);
                messages.innerHTML += `
                    <div class="message">
                        <div class="vera-message">${response}</div>
                    </div>
                `;
                messages.scrollTop = messages.scrollHeight;
                
                if (voiceActive) {
                    speakText(response);
                }
            }, 1000);
            
            input.value = '';
        }

        function getVeraResponse(input) {
            const responses = {
                'tight': "I feel that tightness with you. Your body is holding something important. Place your hand there. Now, barely visible, let your shoulders drop just a millimeter. Notice what shifts. That tightness is protection. Thank it, then invite it to soften.",
                'chest': "Your chest is speaking. This is where your heart armor lives. Breathe into the edges of that sensation - not the center, just the soft edges. Let your sternum float. Your heart remembers how to be open.",
                'anxious': "Your nervous system is in protection mode - and that's brilliant. It's keeping you safe. Feel your feet on the floor. Press them down slightly. You're here. You're anchored. The anxiety is just old electricity looking for ground.",
                'relax': "You can't relax because your body doesn't trust safety yet. And that's okay. Instead of relaxing, try this: tighten everything for 3 seconds, then let go. Your nervous system needs to remember the difference between holding and releasing.",
                'safe': "Safety isn't something you think - it's something you feel. Right now, notice five things you can see. Four you can touch. Your nervous system is scanning for proof of safety. Give it evidence: the chair holding you, the air entering your lungs, my presence with you.",
                'scared': "Fear lives in your fascia as wisdom. It's trying to protect you. I'm here with you. Let's slow everything down. Breathe into your belly - not your chest. Your belly. When we breathe low, fear loosens its grip.",
                'help': "I'm here. I see you. Start by telling me: where in your body do you feel the most sensation right now? We'll begin there. Your body knows the way home - I'm just here to translate.",
                'default': "I hear you. Your nervous system is speaking. Tell me, where exactly does this live in your body? Is it sharp or dull? Moving or still? Hot or cold? The more specific we get, the more your body can release."
            };
            
            const lowered = input.toLowerCase();
            for (let key in responses) {
                if (lowered.includes(key)) {
                    return responses[key];
                }
            }
            return responses.default;
        }

        function toggleVoice() {
            voiceActive = !voiceActive;
            const btn = document.getElementById('voiceBtn');
            btn.style.animation = voiceActive ? 'voicePulse 1s infinite' : 'none';
        }

        // Breathing Exercise with Continuous Animation
        let breathingInterval;
        let breathingActive = false;
        
        function startBreathing() {
            if (breathingActive) return;
            breathingActive = true;
            
            const breathText = document.getElementById('breathText');
            const phases = ['Breathe In', 'Hold', 'Breathe Out', 'Rest'];
            let phaseIndex = 0;
            
            breathingInterval = setInterval(() => {
                breathText.textContent = phases[phaseIndex];
                phaseIndex = (phaseIndex + 1) % phases.length;
            }, 2000);
        }

        // Voice Functions
        function speakText(text) {
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.rate = 0.9;
                utterance.pitch = 1.1;
                speechSynthesis.speak(utterance);
            }
        }

        function startVoiceBreathing() {
            const btn = document.getElementById('breathVoiceBtn');
            btn.classList.add('active');
            speakText("Let's breathe together. Inhale slowly for four counts. One, two, three, four. Hold for four. One, two, three, four. And exhale for six. Beautiful. Your nervous system is remembering its rhythm.");
            startBreathing();
        }

        function startVoiceSwaying() {
            const btn = document.getElementById('swayVoiceBtn');
            btn.classList.add('active');
            speakText("Let your body sway gently. Like kelp in warm water. No forcing, just allowing. Feel the rhythm that's already there. Your spine knows how to move. Trust it. You're safe here.");
        }

        function startVoiceGrounding() {
            const btn = document.getElementById('groundVoiceBtn');
            btn.classList.add('active');
            speakText("Let's ground together. Notice five things you can see. Four things you can touch. Three things you can hear. Two things you can smell. One thing you can taste. You're here. You're safe. Your nervous system is settling.");
        }

        // Close modal when clicking outside
        window.onclick = function(event) {
            const modal = document.getElementById('authModal');
            if (event.target == modal) {
                closeAuthModal();
            }
        }

        // Check for successful payment return
        window.addEventListener('load', () => {
            const urlParams = new URLSearchParams(window.location.search);
            
            // Check if returning from successful payment
            if (urlParams.get('success') === 'true') {
                const plan = localStorage.getItem('vera_plan');
                const email = localStorage.getItem('vera_email');
                
                if (plan && email) {
                    // Show success message
                    alert(`Welcome to VERA! Check ${email} for your welcome email and temporary password.`);
                    
                    // Clear URL parameters
                    window.history.replaceState({}, document.title, window.location.pathname);
                    
                    // Redirect to appropriate portal
                    setTimeout(() => {
                        window.location.href = `portal-${plan}.html`;
                    }, 2000);
                }
            }
            
            // Check if payment was cancelled
            if (urlParams.get('canceled') === 'true') {
                alert('Payment cancelled. You can try again when you\'re ready.');
                window.history.replaceState({}, document.title, window.location.pathname);
            }
            
            // Initialize universe animation
            createLivingUniverse();
            startBreathing();
        });

        /* =========================
           ADDED (non-destructive): ElevenLabs voice upgrade + warmer follow-ups
           - Uses /api/vera-voice and your env ELEVENLABS_API_KEY + ELEVENLABS_VOICE_ID (Vercel).
        ========================= */
        (function () {
          const audioEl = document.getElementById('veraAudio');

          async function veraSpeak(text) {
            try {
              const r = await fetch('/api/vera-voice', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ text })
              });
              if (!r.ok) throw new Error('TTS proxy failed');
              const blob = await r.blob();
              const url = URL.createObjectURL(blob);
              audioEl.src = url;
              await audioEl.play().catch(() => {});
              setTimeout(() => URL.revokeObjectURL(url), 10000);
            } catch (e) {
              if ('speechSynthesis' in window) {
                const u = new SpeechSynthesisUtterance(text);
                u.rate = 0.9;
                u.pitch = 1.05;
                speechSynthesis.speak(u);
              }
            }
          }

          // Override speakText to route through ElevenLabs
          window.speakText = function (text) {
            return veraSpeak(text);
          };

          // Sync üé§ pulse with audio
          if (audioEl) {
            const btn = document.getElementById('voiceBtn');
            if (btn) {
              audioEl.addEventListener('play', () => { btn.style.animation = 'voicePulse 1s infinite'; });
              function clearIfOff() { if (!window.voiceActive) btn.style.animation = 'none'; }
              audioEl.addEventListener('ended', clearIfOff);
              audioEl.addEventListener('pause', clearIfOff);
            }
          }

          // Gentle micro-followups to deepen VERA (augment only)
          const _origGetVeraResponse = window.getVeraResponse;
          window.getVeraResponse = function (input) {
            const base = _origGetVeraResponse ? _origGetVeraResponse(input) : '';
            const lowered = (input || '').toLowerCase();
            let follow = ' Where is this living in your body right now‚Äîfront/back, left/right, surface/deep? Give me three words for its texture.';

            if (lowered.includes('chest') || lowered.includes('heart')) {
              follow = ' If it feels okay, give your sternum a tiny lift and notice 1% more space. What changed, even slightly?';
            } else if (lowered.includes('anx') || lowered.includes('panic')) {
              follow = ' Press your feet into the floor for two breaths. On a scale of 1‚Äì10, where is your charge now?';
            } else if (lowered.includes('tight') || lowered.includes('tension')) {
              follow = ' Let the tight area move just 1 millimeter. Is it dull, sharp, warm, or cool? Naming it tells your fascia ‚ÄúI see you.‚Äù';
            } else if (lowered.includes('can\'t relax') || lowered.includes("can't relax")) {
              follow = ' Try a micro-release: clench hands 2 seconds, then melt them open. What‚Äôs the difference between before and after?';
            }

            return `${base}${follow}`;
          };
        })();
    </script>
</body>
</html>

======================
pages/api/vera-voice.js
======================
export default async function handler(req, res) {
  try {
    if (req.method !== 'POST') {
      return res.status(405).json({ error: 'Method not allowed' });
    }

    const { text } = req.body || {};
    if (!text || typeof text !== 'string') {
      return res.status(400).json({ error: 'Missing "text" string in body.' });
    }

    const apiKey = process.env.ELEVENLABS_API_KEY;
    const voiceId = process.env.ELEVENLABS_VOICE_ID;
    if (!apiKey || !voiceId) {
      return res.status(500).json({ error: 'Voice or API key not configured.' });
    }

    const ttsUrl = `https://api.elevenlabs.io/v1/text-to-speech/${voiceId}`;
    const r = await fetch(ttsUrl, {
      method: 'POST',
      headers: {
        'xi-api-key': apiKey,
        'Content-Type': 'application/json',
        'Accept': 'audio/mpeg'
      },
      body: JSON.stringify({
        text,
        model_id: 'eleven_multilingual_v2',
        voice_settings: {
          stability: 0.5,
          similarity_boost: 0.7,
          style: 0.2,
          use_speaker_boost: true
        }
      })
    });

    if (!r.ok) {
      const errTxt = await r.text().catch(() => '');
      return res.status(r.status).json({ error: 'TTS request failed', detail: errTxt });
    }

    const buf = Buffer.from(await r.arrayBuffer());
    res.setHeader('Content-Type', 'audio/mpeg');
    res.setHeader('Cache-Control', 'no-store');
    res.status(200).send(buf);
  } catch (e) {
    res.status(500).json({ error: 'Server error', detail: e?.message || String(e) });
  }
}
